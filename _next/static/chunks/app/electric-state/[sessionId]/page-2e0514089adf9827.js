(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{3225:function(e,s,a){Promise.resolve().then(a.bind(a,7762)),Promise.resolve().then(a.bind(a,3583))},7762:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(7437),r=a(4033),l=a(3583);function c(e){let{sessionId:s}=e,a=(0,r.useSearchParams)(),c=a.get("name"),n=a.get("token");return(0,t.jsx)(l.default,{sessionId:s,travelerName:c,token:n})}},3583:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var t=a(7437),r=a(9650),l=a.n(r),c=a(2265),n=a(8760),i=a.n(n);function o(e){var s;let{maps:a}=e,[r,l]=(0,c.useState)(a[0].title);return(0,t.jsxs)("div",{className:"p-2 h-full flex flex-col justify-center items-center",children:[(0,t.jsx)("div",{className:"flex-0 mt-4",children:(0,t.jsx)("h3",{className:"text-xl font-bold divide-x-4",children:a.map((e,s)=>(0,t.jsxs)("span",{children:[0!==s&&(0,t.jsx)("span",{className:"border-b-4"}),(0,t.jsx)("span",{className:"mx-2 ".concat(r===e.title?"border-b-4":""," "),onClick:()=>l(e.title),children:e.title})]},e.title))})}),(0,t.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,t.jsx)("img",{src:null===(s=a.find(e=>e.title===r))||void 0===s?void 0:s.url})})]})}function d(e){let{story:s}=e,[a,r]=(0,c.useState)(""),l=e=>{r(a===e?"":e)};return(0,t.jsx)("div",{className:"p-8 divide-y-4",children:s.map(e=>(0,t.jsx)("div",{className:"mb-4 border-black",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl mb-3 font-semibold cursor-pointer flex items-center",onClick:()=>l(e.title),children:[(0,t.jsx)("span",{className:"mr-2 w-4",children:a===e.title?"▼":"▶"}),e.title]}),a===e.title&&(0,t.jsx)("div",{className:"mb-4",children:e.story.split("\n").map(e=>(0,t.jsx)("p",{className:"mb-2",children:e},e))})]})},e.title))})}function m(e){return e<0?e.toString():"+".concat(e)}function x(e){let{travelerName:s,travelers:a}=e,[r,l]=(0,c.useState)(s),n=(0,c.useRef)(null),o=a.find(e=>e.name===r);if(!o)return null;let d=e=>{l(e),n.current&&n.current.scrollIntoView({behavior:"smooth"})};return(0,t.jsxs)("div",{className:"p-8",ref:n,children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center mb-6",children:[(0,t.jsx)("small",{className:"w-full mb-2 underline",onClick:()=>l(s),children:o.name!==s?"← Back to your character":""}),(0,t.jsxs)("h2",{className:"text-2xl font-bold",children:[o.name," ",o.name===s?"(You)":""]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Basic Info"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Archetype:"})," ",o.archetype]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Dream:"})," ",o.dream]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Flaw:"})," ",o.flaw]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Stats"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["str","agi","wit","emp"].map(e=>(0,t.jsxs)("div",{className:"p-2 border-4 border-black text-center",children:[(0,t.jsx)("p",{className:"mb-1",children:(0,t.jsx)("strong",{children:e.toUpperCase()})}),(0,t.jsx)("p",{className:"mb-0 text-xl",children:o.stats[e]}),!!o.state.statsModifier[e]&&(0,t.jsxs)("small",{className:"mb-0 text-sm text-gray-600",children:["(",o.state.statsModifier[e],")"]})]},e))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Current State"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Health:"})," ",o.state.health]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Hope:"})," ",o.state.hope]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Bliss:"})," ",o.state.bliss]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Cash:"})," $",o.state.cash]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Neurocaster"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Name:"})," ",o.neurocaster.name]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Price:"})," $",o.neurocaster.price]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Processor:"})," ",m(o.neurocaster.processor)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Network:"})," ",m(o.neurocaster.network)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Graphics:"})," ",m(o.neurocaster.graphics)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Mobility:"})," ",m(o.neurocaster.mobility)]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Talents"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(o.talents||[]).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.title))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Personal Items"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(o.personalItem||[]).map((e,s)=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e.name," (",e.type,")"]}),"gear"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price:"})," $",e.price]})]}),"weapon"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Damage"}),": ",e.damage]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Bonus"}),": ",m(e.bonus)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Min Range"}),": ",e.minRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Max Range"}),": ",e.maxRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price"}),": $",e.price]})]})]},s))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tensions"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.keys(o.state.tensions).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3 flex flex-row items-center",onClick:()=>d(e),children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-semibold mb-1",children:[e,": ",o.state.tensions[e].level," / 2"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.state.tensions[e].description})]}),(0,t.jsx)("div",{className:"".concat(i().arrowRight," ")})]},e))})]})]},o.name)})]})}let h="Story",j="Travelers",p=[h,j,"Map"];function u(e){let{sessionId:s,travelerName:a,sessionData:r}=e,[l,n]=(0,c.useState)(h);return(0,t.jsxs)("div",{className:i().book,children:[(0,t.jsxs)("div",{className:i().content,children:[(0,t.jsx)("div",{className:i().page,children:(()=>{switch(l){case h:return(0,t.jsx)(d,{story:r.story});case j:return(0,t.jsx)(x,{travelerName:a,travelers:r.travelers});case"Map":return(0,t.jsx)(o,{maps:r.maps});default:return null}})()}),(0,t.jsx)("div",{className:"".concat(i().page," ").concat(i().other1)}),(0,t.jsx)("div",{className:"".concat(i().page," ").concat(i().other2)})]}),(0,t.jsx)("div",{className:i().bookmarks,children:p.map(e=>(0,t.jsx)("div",{className:"".concat(i().bookmark," ").concat(l===e?i().active:""),onClick:()=>n(e),children:e},e))})]})}var b=a(1146),N=a.n(b);function f(e){let{title:s,travelerName:a,error:r,loading:l,onStart:c}=e;return(0,t.jsx)("div",{className:N().welcomeContainer,children:(0,t.jsxs)("div",{className:N().innerBox,children:[(0,t.jsx)("h1",{children:s}),(0,t.jsxs)("p",{children:["Welcome, ",a||"traveler","."]}),l&&(0,t.jsx)("p",{children:"Loading..."}),!l&&r&&(0,t.jsx)("small",{children:r}),!l&&!r&&(0,t.jsx)("button",{type:"button",onClick:c,children:"Resume your journey"})]})})}var g=a(4006),_=a.n(g);function v(e){let{sessionId:s,travelerName:a,token:r}=e,[n,i]=(0,c.useState)(!1),[o,d]=(0,c.useState)(null),[m,x]=(0,c.useState)(!0),[h,j]=(0,c.useState)("");return(0,c.useEffect)(()=>{var e,t;if(!a||!r){j("This is a page to play Electric State RPG."),x(!1);return}(e=a||"",t=r||"",fetch("".concat("https://script.google.com/macros/s/AKfycbz11n9wLzejuRmsciTtnyH2FNmhiX0W0v8_f0BivCm-uA2pY0jnGpEW_FDp7WLIKsn6/exec","?action=getSession&session=").concat(s,"&name=").concat(e,"&token=").concat(t)).then(e=>e.json())).then(e=>{if(!("title"in e)){j("Failed fetching session data."),x(!1);return}d(e),x(!1)}).catch(e=>{j(e),x(!1)})},[s,a,r]),(0,t.jsxs)("div",{className:"".concat(_().hecate," ").concat(l().className),children:[(0,t.jsx)("div",{className:_().backgroundImage,style:{opacity:m?0:1,backgroundImage:"url(".concat(null==o?void 0:o.backgroundImage,")")}}),(0,t.jsx)("div",{className:"".concat(_().welcomePage," ").concat(n?_().fadeOut:""),children:(0,t.jsx)(f,{title:s.replace(/-/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()),travelerName:a||"traveler",error:h,loading:m,onStart:()=>i(!0)})}),(0,t.jsx)("div",{className:"".concat(_().bookWrapper," ").concat(n?_().slideIn:""),children:n&&!m&&!!o&&(0,t.jsx)(u,{sessionId:s,travelerName:a||"",sessionData:o})})]})}},8760:function(e){e.exports={book:"Book_book__kxMkj",bookmarks:"Book_bookmarks__Wu6Lv",bookmark:"Book_bookmark__GrPkG",active:"Book_active__c3J7o",content:"Book_content__AnlGi",page:"Book_page__ZetFh",other1:"Book_other1__0x9L9",other2:"Book_other2__fagLD",arrowRight:"Book_arrowRight__kTRhU",travelerSection:"Book_travelerSection__X2LB6"}},1146:function(e){e.exports={welcomeContainer:"WelcomePage_welcomeContainer__m0X4B",innerBox:"WelcomePage_innerBox__iL62g"}},4006:function(e){e.exports={hecate:"styles_hecate__Z8l_H",backgroundImage:"styles_backgroundImage__6xoJD",welcomePage:"styles_welcomePage__NthuF",fadeOut:"styles_fadeOut__ZRrSn",bookWrapper:"styles_bookWrapper__NvYHX",slideIn:"styles_slideIn__LLNy3"}},9650:function(e){e.exports={style:{fontFamily:"'__Open_Sans_4dd805', '__Open_Sans_Fallback_4dd805'",fontStyle:"normal"},className:"__className_4dd805"}},622:function(e,s,a){"use strict";var t=a(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,a){var t,l={},o=null,d=null;for(t in void 0!==a&&(o=""+a),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)c.call(s,t)&&!i.hasOwnProperty(t)&&(l[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===l[t]&&(l[t]=s[t]);return{$$typeof:r,type:e,key:o,ref:d,props:l,_owner:n.current}}s.Fragment=l,s.jsx=o,s.jsxs=o},7437:function(e,s,a){"use strict";e.exports=a(622)},4033:function(e,s,a){e.exports=a(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=3225)}),_N_E=e.O()}]);