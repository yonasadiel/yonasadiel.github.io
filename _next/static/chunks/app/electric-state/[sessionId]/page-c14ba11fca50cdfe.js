(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{8411:function(e,s,r){Promise.resolve().then(r.bind(r,2070))},2070:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return _}});var a=r(7437),t=r(4033),n=r(2265),c=r(8760),l=r.n(c);function i(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl mb-6 font-bold",children:"World Map"}),(0,a.jsx)("p",{children:"The map of your current location will be displayed here..."})]})}function o(e){let{story:s}=e,[r,t]=(0,n.useState)([]),c=e=>{t(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,a.jsx)("div",{children:s.map((e,s)=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl mb-3 font-semibold cursor-pointer flex items-center",onClick:()=>c(s),children:[(0,a.jsx)("span",{className:"mr-2",children:r.includes(s)?"▼":"▶"}),e.title]}),r.includes(s)&&(0,a.jsx)("div",{className:"mb-4",children:e.story.split("\n").map(e=>(0,a.jsx)("p",{className:"mb-2",children:e},e))})]},s))})}function d(e){return e<0?e.toString():"+".concat(e)}function m(e){let{travelerName:s,travelers:r}=e,[t,c]=(0,n.useState)(s),l=r.find(e=>e.name===t);return l?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between items-center mb-6",children:[(0,a.jsx)("small",{className:"w-full mb-2 underline",onClick:()=>c(s),children:l.name!==s?"← Back to your character":""}),(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:[l.name," ",l.name===s?"(You)":""]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Basic Info"}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Archetype:"})," ",l.archetype]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Dream:"})," ",l.dream]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Flaw:"})," ",l.flaw]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Stats"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["str","agi","wit","emp"].map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-center",children:[(0,a.jsx)("p",{className:"mb-1",children:(0,a.jsx)("strong",{children:e.toUpperCase()})}),(0,a.jsx)("p",{className:"mb-0",children:l.stats[e]})]},e))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Current State"}),(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Health:"})," ",l.state.health]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Hope:"})," ",l.state.hope]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Bliss:"})," ",l.state.bliss]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Cash:"})," $",l.state.cash]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Neurocaster"}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Name:"})," ",l.neurocaster.name]}),(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Processor:"})," ",d(l.neurocaster.processor)]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Network:"})," ",d(l.neurocaster.network)]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Graphics:"})," ",d(l.neurocaster.graphics)]}),(0,a.jsxs)("p",{className:"mb-0",children:[(0,a.jsx)("strong",{children:"Mobility:"})," ",d(l.neurocaster.mobility)]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Talents"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(l.talents||[]).map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.title))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Personal Items"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(l.personalItem||[]).map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsxs)("p",{className:"font-semibold",children:[e.name," (",e.type,")"]}),"gear"===e.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Price:"})," $",e.price]})]}),"weapon"===e.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Damage"}),": ",e.damage]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Bonus"}),": ",d(e.bonus)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Min Range"}),": ",e.minRange]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Max Range"}),": ",e.maxRange]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Price"}),": $",e.price]})]})]},s))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tensions"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.keys(l.state.tensions).map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",onClick:()=>c(e),children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:e}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:l.state.tensions[e].num}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:l.state.tensions[e].description})]},e))})]})]},l.name)})]}):null}let x="Story",h="Travelers",j=[x,h,"Map"];function p(e){let{sessionId:s,travelerName:r,sessionData:t}=e,[c,d]=(0,n.useState)(x);return(0,a.jsxs)("div",{className:l().book,children:[(0,a.jsx)("div",{className:l().content,children:(()=>{switch(c){case x:return(0,a.jsx)(o,{story:t.story});case h:return(0,a.jsx)(m,{travelerName:r,travelers:t.travelers});case"Map":return(0,a.jsx)(i,{});default:return null}})()}),(0,a.jsx)("div",{className:l().bookmarks,children:j.map(e=>(0,a.jsx)("div",{className:"".concat(l().bookmark," ").concat(c===e?l().active:""),onClick:()=>d(e),children:e},e))})]})}var u=r(1146),g=r.n(u);function b(e){let{title:s,travelerName:r,error:t,loading:n,onStart:c}=e;return(0,a.jsx)("div",{className:g().welcomeContainer,children:(0,a.jsxs)("div",{className:g().innerBox,children:[(0,a.jsx)("h1",{children:s}),(0,a.jsxs)("p",{children:["Welcome, ",r||"traveler","."]}),n&&(0,a.jsx)("p",{children:"Loading..."}),!n&&t&&(0,a.jsx)("small",{children:t}),!n&&!t&&(0,a.jsx)("button",{type:"button",onClick:c,children:"Resume your journey"})]})})}var N=r(4006),f=r.n(N);function _(e){let{sessionId:s}=e,[r,c]=(0,n.useState)(!1),[l,i]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0),[m,x]=(0,n.useState)(""),h=(0,t.useSearchParams)(),j=h.get("name"),u=h.get("token");return(0,n.useEffect)(()=>{var e,r;if(!j||!u){x("This is a page to play Electric State RPG."),d(!1);return}(e=j||"",r=u||"",fetch("".concat("https://script.google.com/macros/s/AKfycbz11n9wLzejuRmsciTtnyH2FNmhiX0W0v8_f0BivCm-uA2pY0jnGpEW_FDp7WLIKsn6/exec","?action=getSession&session=").concat(s,"&name=").concat(e,"&token=").concat(r)).then(e=>e.json())).then(e=>{i(e),d(!1)}).catch(e=>{x(e),d(!1)})},[s,j,u]),(0,a.jsxs)("div",{className:f().hecate,style:{backgroundImage:"url(".concat("/images/hecate/14983852.jpg",")")},children:[(0,a.jsx)("div",{className:"".concat(f().welcomePage," ").concat(r?f().fadeOut:""),children:(0,a.jsx)(b,{title:s.replace(/-/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()),travelerName:j||"traveler",error:m,loading:o,onStart:()=>c(!0)})}),(0,a.jsx)("div",{className:"".concat(f().bookWrapper," ").concat(r?f().slideIn:""),children:r&&!o&&!!l&&(0,a.jsx)(p,{sessionId:s,travelerName:j||"",sessionData:l})})]})}},8760:function(e){e.exports={book:"Book_book__kxMkj",bookmarks:"Book_bookmarks__Wu6Lv",bookmark:"Book_bookmark__GrPkG",active:"Book_active__c3J7o",content:"Book_content__AnlGi"}},1146:function(e){e.exports={welcomeContainer:"WelcomePage_welcomeContainer__m0X4B",innerBox:"WelcomePage_innerBox__iL62g"}},4006:function(e){e.exports={hecate:"styles_hecate__Z8l_H",welcomePage:"styles_welcomePage__NthuF",fadeOut:"styles_fadeOut__ZRrSn",bookWrapper:"styles_bookWrapper__NvYHX",slideIn:"styles_slideIn__LLNy3"}},622:function(e,s,r){"use strict";var a=r(2265),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,r){var a,n={},o=null,d=null;for(a in void 0!==r&&(o=""+r),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)c.call(s,a)&&!i.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===n[a]&&(n[a]=s[a]);return{$$typeof:t,type:e,key:o,ref:d,props:n,_owner:l.current}}s.Fragment=n,s.jsx=o,s.jsxs=o},7437:function(e,s,r){"use strict";e.exports=r(622)},4033:function(e,s,r){e.exports=r(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=8411)}),_N_E=e.O()}]);