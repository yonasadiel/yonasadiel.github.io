(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{3225:function(e,s,a){Promise.resolve().then(a.bind(a,7762)),Promise.resolve().then(a.bind(a,5400))},7762:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return l}});var t=a(7437),r=a(5400),n=a(4033);function l(e){let{sessionId:s}=e,a=(0,n.useSearchParams)(),l=a.get("name"),c=a.get("token");return(0,t.jsx)(r.default,{sessionId:s,travelerName:l,token:c})}},5400:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return S}});var t=a(7437),r=a(9650),n=a.n(r),l=a(4006),c=a.n(l),i=a(9429),o=a.n(i),d=a(9826),m=a.n(d),x=a(2265);function h(e){var s;let{maps:a}=e,[r,n]=(0,x.useState)(a[0].title),l=(null===(s=a.find(e=>e.title===r))||void 0===s?void 0:s.url)||"";return(0,t.jsxs)("div",{className:"p-2 h-full flex flex-col justify-center items-center",children:[(0,t.jsx)("div",{className:"flex-0 mt-4",children:(0,t.jsx)("div",{className:"text-xl font-bold divide-x-4 flex flex-row",children:a.map((e,s)=>(0,t.jsx)("span",{children:(0,t.jsx)("h3",{className:"inline mx-2 cursor-pointer transition-all duration-300 ease-in-out hover:opacity-70 ".concat(r===e.title?"border-b-4":""),onClick:()=>n(e.title),children:e.title})},e.title))})}),(0,t.jsx)("div",{className:"flex-1 flex justify-center items-center overflow-hidden relative w-full h-full",children:(0,t.jsx)("div",{className:"relative",children:!!l&&(0,t.jsx)("img",{src:l,alt:"Map of ".concat(r),className:"".concat(m().animateFadeIn," w-full h-full object-contain hover:scale-105 transition-transform duration-300")},r)})})]})}function j(e){let{story:s}=e,[a,r]=(0,x.useState)(""),n=e=>{r(a===e?"":e)};return(0,t.jsx)("div",{className:"p-8 divide-y-4",children:s.map(e=>(0,t.jsx)("div",{className:"mb-4 border-black",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl mb-3 font-semibold cursor-pointer flex items-center transition-transform duration-1000",onClick:()=>n(e.title),children:[(0,t.jsx)("span",{className:"mr-2 w-4 transition-transform duration-300 ".concat(a===e.title?"rotate-0":"-rotate-90"),children:"▼"}),e.title]}),(0,t.jsx)("div",{className:"overflow-hidden transition-all duration-1000 ease-in-out ".concat(a===e.title?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:(0,t.jsx)("div",{className:"mb-4",children:e.story.split("\n").map(e=>(0,t.jsx)("p",{className:"mb-2",children:e},e))})})]})},e.title))})}var p=a(3933),u=a.n(p);function f(e){return e<0?e.toString():"+".concat(e)}function b(e){let{travelerName:s,travelers:a}=e,[r,n]=(0,x.useState)(s),l=(0,x.useRef)(null),c=a.find(e=>e.name===r);if(!c)return null;let i=e=>{n(e),l.current&&l.current.scrollIntoView({behavior:"smooth"})};return(0,t.jsxs)("div",{className:"p-8",ref:l,children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center mb-6",children:[(0,t.jsx)("small",{className:"w-full mb-2 underline",onClick:()=>n(s),children:c.name!==s?"← Back to your character":""}),(0,t.jsxs)("h2",{className:"text-2xl font-bold",children:[c.name," ",c.name===s?"(You)":""]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Basic Info"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Archetype:"})," ",c.archetype]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Dream:"})," ",c.dream]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Flaw:"})," ",c.flaw]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Stats"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["str","agi","wit","emp"].map(e=>(0,t.jsxs)("div",{className:"p-2 border-4 border-black text-center",children:[(0,t.jsx)("p",{className:"mb-1",children:(0,t.jsx)("strong",{children:e.toUpperCase()})}),(0,t.jsx)("p",{className:"mb-0 text-xl",children:c.stats[e]}),!!c.state.statsModifier[e]&&(0,t.jsxs)("small",{className:"mb-0 text-sm text-gray-600",children:["(",c.state.statsModifier[e],")"]})]},e))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Current State"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Health:"})," ",c.state.health]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Hope:"})," ",c.state.hope]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Bliss:"})," ",c.state.bliss]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Cash:"})," $",c.state.cash]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold whitespace-nowrap",children:"Neurocaster"}),(0,t.jsx)("span",{className:"ml-3 w-full h-0 border-b-4 border-black"})]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Name:"})," ",c.neurocaster.name]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Price:"})," $",c.neurocaster.price]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Processor:"})," ",f(c.neurocaster.processor)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Network:"})," ",f(c.neurocaster.network)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Graphics:"})," ",f(c.neurocaster.graphics)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Mobility:"})," ",f(c.neurocaster.mobility)]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Talents"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(c.talents||[]).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.title))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Personal Items"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(c.personalItem||[]).map((e,s)=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e.name," (",e.type,")"]}),"gear"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price:"})," $",e.price]})]}),"weapon"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Damage"}),": ",e.damage]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Bonus"}),": ",f(e.bonus)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Min Range"}),": ",e.minRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Max Range"}),": ",e.maxRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price"}),": $",e.price]})]})]},s))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tensions"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.keys(c.state.tensions).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3 flex flex-row items-center",onClick:()=>i(e),children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-semibold mb-1",children:[e,": ",c.state.tensions[e].level," / 2"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:c.state.tensions[e].description})]}),(0,t.jsx)("div",{className:"".concat(u().arrowRight," ")})]},e))})]})]},c.name)})]})}let N="Story",g="Travelers",v=[N,g,"Map"];function _(e){let{sessionId:s,travelerName:a,sessionData:r}=e,[n,l]=(0,x.useState)(N);return(0,t.jsxs)("div",{className:o().book,children:[(0,t.jsxs)("div",{className:o().content,children:[(0,t.jsx)("div",{className:o().page,children:(()=>{switch(n){case N:return(0,t.jsx)(j,{story:r.story});case g:return(0,t.jsx)(b,{travelerName:a,travelers:r.travelers});case"Map":return(0,t.jsx)(h,{maps:r.maps});default:return null}})()}),(0,t.jsx)("div",{className:"".concat(o().page," ").concat(o().other1)}),(0,t.jsx)("div",{className:"".concat(o().page," ").concat(o().other2)})]}),(0,t.jsx)("div",{className:o().bookmarks,children:v.map(e=>(0,t.jsx)("div",{className:"".concat(o().bookmark," ").concat(n===e?o().active:""),onClick:()=>l(e),children:e},e))})]})}var k=a(4990),y=a.n(k);function w(e){let{title:s,travelerName:a,error:r,loading:n,onStart:l}=e;return(0,t.jsx)("div",{className:y().welcomeContainer,children:(0,t.jsxs)("div",{className:y().innerBox,children:[(0,t.jsx)("h1",{children:s}),(0,t.jsxs)("p",{children:["Welcome, ",a||"traveler","."]}),n&&(0,t.jsx)("p",{children:"Loading..."}),!n&&r&&(0,t.jsx)("small",{children:r}),!n&&!r&&(0,t.jsx)("button",{type:"button",onClick:l,children:"Resume your journey"})]})})}function S(e){let{sessionId:s,travelerName:a,token:r}=e,[l,i]=(0,x.useState)(!1),[o,d]=(0,x.useState)(null),[m,h]=(0,x.useState)(!0),[j,p]=(0,x.useState)("");return(0,x.useEffect)(()=>{var e,t;if(!a||!r){p("This is a page to play Electric State RPG."),h(!1);return}(e=a||"",t=r||"",fetch("".concat("https://script.google.com/macros/s/AKfycbz11n9wLzejuRmsciTtnyH2FNmhiX0W0v8_f0BivCm-uA2pY0jnGpEW_FDp7WLIKsn6/exec","?action=getSession&session=").concat(s,"&name=").concat(e,"&token=").concat(t)).then(e=>e.json())).then(e=>{if(!("title"in e)){p("Failed fetching session data."),h(!1);return}d(e),h(!1)}).catch(e=>{p(e),h(!1)})},[s,a,r]),(0,t.jsxs)("div",{className:"".concat(c().hecate," ").concat(n().className),children:[(0,t.jsx)("div",{className:c().backgroundImage,style:{opacity:(null==o?void 0:o.backgroundImage)?1:0,backgroundImage:(null==o?void 0:o.backgroundImage)?"url(".concat(null==o?void 0:o.backgroundImage,")"):"none"}}),(0,t.jsx)("div",{className:"".concat(c().welcomePage," ").concat(l?c().fadeOut:""),children:(0,t.jsx)(w,{title:s.replace(/-/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()),travelerName:a||"traveler",error:j,loading:m,onStart:()=>i(!0)})}),(0,t.jsx)("div",{className:"".concat(c().bookWrapper," ").concat(l?c().slideIn:""),children:l&&!m&&!!o&&(0,t.jsx)(_,{sessionId:s,travelerName:a||"",sessionData:o})})]})}},4006:function(e){e.exports={hecate:"styles_hecate__Z8l_H",backgroundImage:"styles_backgroundImage__6xoJD",welcomePage:"styles_welcomePage__NthuF",fadeOut:"styles_fadeOut__ZRrSn",bookWrapper:"styles_bookWrapper__NvYHX",slideIn:"styles_slideIn__LLNy3"}},9429:function(e){e.exports={book:"Book_book__2TahL",bookmarks:"Book_bookmarks___d7ES",bookmark:"Book_bookmark__THSeH",active:"Book_active__h7W2G",content:"Book_content__qgYbA",page:"Book_page__K8fSK",other1:"Book_other1__jgPKl",other2:"Book_other2__sImwX"}},9826:function(e){e.exports={animateFadeIn:"Map_animateFadeIn__25ZDA",fadeIn:"Map_fadeIn__W7krg"}},3933:function(e){e.exports={arrowRight:"Travelers_arrowRight__GR8Nm",travelerSection:"Travelers_travelerSection__ilUwM"}},4990:function(e){e.exports={welcomeContainer:"WelcomePage_welcomeContainer__mFzyj",innerBox:"WelcomePage_innerBox__mBmgX"}},9650:function(e){e.exports={style:{fontFamily:"'__Open_Sans_4dd805', '__Open_Sans_Fallback_4dd805'",fontStyle:"normal"},className:"__className_4dd805"}},622:function(e,s,a){"use strict";var t=a(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,a){var t,n={},o=null,d=null;for(t in void 0!==a&&(o=""+a),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)l.call(s,t)&&!i.hasOwnProperty(t)&&(n[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===n[t]&&(n[t]=s[t]);return{$$typeof:r,type:e,key:o,ref:d,props:n,_owner:c.current}}s.Fragment=n,s.jsx=o,s.jsxs=o},7437:function(e,s,a){"use strict";e.exports=a(622)},4033:function(e,s,a){e.exports=a(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=3225)}),_N_E=e.O()}]);