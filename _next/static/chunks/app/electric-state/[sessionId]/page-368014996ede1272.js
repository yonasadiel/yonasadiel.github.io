(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{8411:function(e,s,r){Promise.resolve().then(r.bind(r,2070))},2070:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return _}});var t=r(7437),a=r(4033),c=r(2265),n=r(8760),l=r.n(n);function i(){return(0,t.jsx)("div",{className:"p-2 h-full flex justify-center items-center",children:(0,t.jsx)("img",{src:"/images/hecate/littlevile.png"})})}function o(e){let{story:s}=e,[r,a]=(0,c.useState)(""),n=e=>{a(r===e?"":e)};return(0,t.jsx)("div",{className:"p-8 divide-y-4",children:s.map(e=>(0,t.jsx)("div",{className:"mb-4 border-black",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl mb-3 font-semibold cursor-pointer flex items-center",onClick:()=>n(e.title),children:[(0,t.jsx)("span",{className:"mr-2 w-4",children:r===e.title?"▼":"▶"}),e.title]}),r===e.title&&(0,t.jsx)("div",{className:"mb-4",children:e.story.split("\n").map(e=>(0,t.jsx)("p",{className:"mb-2",children:e},e))})]})},e.title))})}function m(e){return e<0?e.toString():"+".concat(e)}function d(e){let{travelerName:s,travelers:r}=e,[a,n]=(0,c.useState)(s),i=(0,c.useRef)(null),o=r.find(e=>e.name===a);if(!o)return null;let d=e=>{n(e),i.current&&i.current.scrollIntoView({behavior:"smooth"})};return(0,t.jsxs)("div",{className:"p-8",ref:i,children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center mb-6",children:[(0,t.jsx)("small",{className:"w-full mb-2 underline",onClick:()=>n(s),children:o.name!==s?"← Back to your character":""}),(0,t.jsxs)("h2",{className:"text-2xl font-bold",children:[o.name," ",o.name===s?"(You)":""]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Basic Info"}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Archetype:"})," ",o.archetype]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Dream:"})," ",o.dream]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Flaw:"})," ",o.flaw]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Stats"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["str","agi","wit","emp"].map(e=>(0,t.jsxs)("div",{className:"p-2 border-4 border-black text-center",children:[(0,t.jsx)("p",{className:"mb-1",children:(0,t.jsx)("strong",{children:e.toUpperCase()})}),(0,t.jsx)("p",{className:"mb-0 text-xl",children:o.stats[e]})]},e))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Current State"}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Health:"})," ",o.state.health]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Hope:"})," ",o.state.hope]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Bliss:"})," ",o.state.bliss]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Cash:"})," $",o.state.cash]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Neurocaster"}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Name:"})," ",o.neurocaster.name]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Price:"})," $",o.neurocaster.price]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Processor:"})," ",m(o.neurocaster.processor)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Network:"})," ",m(o.neurocaster.network)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Graphics:"})," ",m(o.neurocaster.graphics)]}),(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Mobility:"})," ",m(o.neurocaster.mobility)]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Talents"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(o.talents||[]).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.title))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Personal Items"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(o.personalItem||[]).map((e,s)=>(0,t.jsxs)("div",{className:"border-4 border-black p-3",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e.name," (",e.type,")"]}),"gear"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price:"})," $",e.price]})]}),"weapon"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Damage"}),": ",e.damage]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Bonus"}),": ",m(e.bonus)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Min Range"}),": ",e.minRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Max Range"}),": ",e.maxRange]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Price"}),": $",e.price]})]})]},s))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tensions"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.keys(o.state.tensions).map(e=>(0,t.jsxs)("div",{className:"border-4 border-black p-3 flex flex-row items-center",onClick:()=>d(e),children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.state.tensions[e].num}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.state.tensions[e].description})]}),(0,t.jsx)("div",{className:"".concat(l().arrowRight," ")})]},e))})]})]},o.name)})]})}let x="Story",h="Travelers",j=[x,h,"Map"];function p(e){let{sessionId:s,travelerName:r,sessionData:a}=e,[n,m]=(0,c.useState)(x);return(0,t.jsxs)("div",{className:l().book,children:[(0,t.jsxs)("div",{className:l().content,children:[(0,t.jsx)("div",{className:l().page,children:(()=>{switch(n){case x:return(0,t.jsx)(o,{story:a.story});case h:return(0,t.jsx)(d,{travelerName:r,travelers:a.travelers});case"Map":return(0,t.jsx)(i,{});default:return null}})()}),(0,t.jsx)("div",{className:"".concat(l().page," ").concat(l().other1)}),(0,t.jsx)("div",{className:"".concat(l().page," ").concat(l().other2)})]}),(0,t.jsx)("div",{className:l().bookmarks,children:j.map(e=>(0,t.jsx)("div",{className:"".concat(l().bookmark," ").concat(n===e?l().active:""),onClick:()=>m(e),children:e},e))})]})}var u=r(1146),g=r.n(u);function N(e){let{title:s,travelerName:r,error:a,loading:c,onStart:n}=e;return(0,t.jsx)("div",{className:g().welcomeContainer,children:(0,t.jsxs)("div",{className:g().innerBox,children:[(0,t.jsx)("h1",{children:s}),(0,t.jsxs)("p",{children:["Welcome, ",r||"traveler","."]}),c&&(0,t.jsx)("p",{children:"Loading..."}),!c&&a&&(0,t.jsx)("small",{children:a}),!c&&!a&&(0,t.jsx)("button",{type:"button",onClick:n,children:"Resume your journey"})]})})}var b=r(4006),f=r.n(b);function _(e){let{sessionId:s}=e,[r,n]=(0,c.useState)(!1),[l,i]=(0,c.useState)(null),[o,m]=(0,c.useState)(!0),[d,x]=(0,c.useState)(""),h=(0,a.useSearchParams)(),j=h.get("name"),u=h.get("token");return(0,c.useEffect)(()=>{var e,r;if(!j||!u){x("This is a page to play Electric State RPG."),m(!1);return}(e=j||"",r=u||"",fetch("".concat("https://script.google.com/macros/s/AKfycbz11n9wLzejuRmsciTtnyH2FNmhiX0W0v8_f0BivCm-uA2pY0jnGpEW_FDp7WLIKsn6/exec","?action=getSession&session=").concat(s,"&name=").concat(e,"&token=").concat(r)).then(e=>e.json())).then(e=>{if(!("title"in e)){x("Failed fetching session data."),m(!1);return}i(e),m(!1)}).catch(e=>{x(e),m(!1)})},[s,j,u]),(0,t.jsxs)("div",{className:f().hecate,style:{backgroundImage:"url(".concat("/images/hecate/14983852.jpg",")")},children:[(0,t.jsx)("div",{className:"".concat(f().welcomePage," ").concat(r?f().fadeOut:""),children:(0,t.jsx)(N,{title:s.replace(/-/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()),travelerName:j||"traveler",error:d,loading:o,onStart:()=>n(!0)})}),(0,t.jsx)("div",{className:"".concat(f().bookWrapper," ").concat(r?f().slideIn:""),children:r&&!o&&!!l&&(0,t.jsx)(p,{sessionId:s,travelerName:j||"",sessionData:l})})]})}},8760:function(e){e.exports={book:"Book_book__kxMkj",bookmarks:"Book_bookmarks__Wu6Lv",bookmark:"Book_bookmark__GrPkG",active:"Book_active__c3J7o",content:"Book_content__AnlGi",page:"Book_page__ZetFh",other1:"Book_other1__0x9L9",other2:"Book_other2__fagLD",arrowRight:"Book_arrowRight__kTRhU"}},1146:function(e){e.exports={welcomeContainer:"WelcomePage_welcomeContainer__m0X4B",innerBox:"WelcomePage_innerBox__iL62g"}},4006:function(e){e.exports={hecate:"styles_hecate__Z8l_H",welcomePage:"styles_welcomePage__NthuF",fadeOut:"styles_fadeOut__ZRrSn",bookWrapper:"styles_bookWrapper__NvYHX",slideIn:"styles_slideIn__LLNy3"}},622:function(e,s,r){"use strict";var t=r(2265),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,r){var t,c={},o=null,m=null;for(t in void 0!==r&&(o=""+r),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(m=s.ref),s)n.call(s,t)&&!i.hasOwnProperty(t)&&(c[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===c[t]&&(c[t]=s[t]);return{$$typeof:a,type:e,key:o,ref:m,props:c,_owner:l.current}}s.Fragment=c,s.jsx=o,s.jsxs=o},7437:function(e,s,r){"use strict";e.exports=r(622)},4033:function(e,s,r){e.exports=r(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=8411)}),_N_E=e.O()}]);