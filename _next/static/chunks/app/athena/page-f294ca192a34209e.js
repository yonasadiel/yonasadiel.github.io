(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{5131:function(e,t,s){Promise.resolve().then(s.bind(s,2019))},2019:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var a=s(7437),n=s(4033),l=s(1396),i=s.n(l),r=s(2265),o=s(894),c=s(5082),u=s(3901),d=s(3648),m=s(1313),h=s(5999),p=s(1109);let x=(e,t,s)=>{let[a,n]=(0,r.useState)(t);return(0,r.useEffect)(()=>{e().then(e=>n(e))},s),a};var b=s(4131),f=s.n(b),g=s(263).Buffer;let v=(0,s(1257).Z)("athena");var _=s(7562),j=s.n(_);s(758);let y=()=>fetch("/posts/index.json").then(e=>e.json()).then(e=>Promise.all(e.list.map(e=>fetch(e).then(e=>e.text()))).then(e=>e.map(k).sort((e,t)=>e.date<t.date?1:-1))),N=e=>e.toLowerCase().replaceAll(" ","-").replaceAll(":",""),k=e=>{let t=e.split("\n"),s=t[0],a={title:s,date:new Date,slug:N(s),content:"",meta:{}},n=1;for(;n<t.length&&""!==t[n];n++){let[e,...s]=t[n].split(":");a.meta[e.trim()]=s.join(":").trim()}return a.content=t.slice(n).join("\n"),a.date=new Date(a.meta.date||""),a},q=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],C=e=>"".concat(e.getDate()," ").concat(q[e.getMonth()]," ").concat(e.getFullYear()),w="post",D="index",P=e=>{let{allPosts:t}=e;return(0,a.jsx)("div",{className:"pt-8",children:t.map(e=>e.date.getFullYear()).filter((e,t,s)=>s.indexOf(e)===t).map(e=>t.filter(t=>t.date.getFullYear()===e)).sort((e,t)=>e>t?1:-1).map(e=>(0,a.jsxs)("div",{className:"pb-3",children:[(0,a.jsx)("h4",{className:"font-bold",children:e[0].date.getFullYear()}),(0,a.jsx)("div",{children:e.sort((e,t)=>e.date<t.date?1:-1).map(e=>(0,a.jsx)(i(),{href:"/athena?slug=".concat(e.slug),className:"block hover:underline mb-3",children:e.title},e.slug))})]},e[0].date.getFullYear()))})},S=e=>{var t;let{post:s,userKeys:n,onUnlockPost:l}=e,[i,u]=(0,r.useMemo)(()=>{if(s.meta.iv){if(!n)return["",!0];for(let e=0;e<n.length;e++){let t=function(e,t){let s=t.substring(t.length-4);if("l2-key-"+s in e)try{for(;t.length<32;)t+=t;t=t.substring(0,32);let a=g.from(e.iv,"hex"),n=e["l2-key-"+s],l=f().createDecipheriv("aes-256-cbc",g.from(t,"utf-8"),a);return g.concat([l.update(g.from(n,"base64")),l.final()]).toString("utf-8")}catch(e){console.error(e)}return null}(s.meta,n[e]);if(t)return[function(e,t,s){try{let a=g.from(t.iv,"hex"),n=f().createDecipheriv("aes-256-cbc",g.from(s,"utf-8"),a);return g.concat([n.update(g.from(e,"base64")),n.final()]).toString("utf-8")}catch(e){return"ERROR: Failed to decrypt post"}}(s.content,s.meta,t),!1]}return["",!0]}return[s.content,!1]},[s.meta,n]);return(0,a.jsxs)("div",{className:"pt-8 pb-2 ".concat(j().post," border-teal-800/50"),id:s.slug,children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:s.title}),(0,a.jsxs)("small",{className:"text-neutral-400",children:[C(s.date)," | ",(null===(t=s.meta)||void 0===t?void 0:t.category)||""]}),(0,a.jsx)("div",{className:"mb-2"}),(0,a.jsxs)("div",{className:"relative place-content-center",children:[(0,a.jsx)(o.U,{className:"".concat(j().md," md ").concat(u?j().locked:""),rehypePlugins:[c.Z],children:u?"Maxime voluptas provident quam voluptatem sit. Corporis nam rerum debitis. Iure minus iusto nisi minus quisquam expedita. Et doloribus rerum et praesentium et reiciendis deleniti. Laboriosam maiores incidunt minus. Facere qui atque vitae fugiat ipsam sint sequi perspiciatis. Velit repudiandae et eligendi nihil quas dolorum non. Deleniti iusto omnis minus soluta accusantium corporis quis inventore. Repellat aliquid nesciunt a temporibus qui amet tenetur ratione. Modi consequatur rerum qui culpa ea et. Dolorem cumque aliquid sequi et autem aliquid. Vel sed aut aliquid est repudiandae omnis. Odit officiis non sint. Nisi qui consequatur sunt. Explicabo inventore impedit sed est. Voluptate sed porro optio. Dolores eligendi culpa est vitae et placeat magni vero. Molestias nisi dolorum quo quasi.":i}),u&&(0,a.jsx)("div",{className:"absolute top-0 left-0 bottom-0 right-0 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"".concat(j().lockBox," rounded py-2 px-4 flex flex-col justify-center items-center"),children:[(0,a.jsx)("p",{children:"This post is password locked"}),(0,a.jsx)("button",{type:"button",className:"bg-teal-700 text-white py-1 px-3 rounded",onClick:l,children:"Unlock"})]})})]})]})},A=e=>{let{isOpen:t,onSubmit:s}=e,[n,l]=(0,r.useState)("");return(0,a.jsx)(u.ZP,{open:t,onClose:()=>s(null),children:(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(m.Z,{children:"Password"}),(0,a.jsx)(h.ZP,{onChange:e=>l(e.currentTarget.value),autoFocus:!0}),(0,a.jsx)(p.Z,{onClick:()=>s(n),children:"Submit"})]})})};var F=()=>{let e=(0,n.useSearchParams)(),t=x(y,[],[]),[s,l]=(0,r.useState)(w),[i,o]=v({userKeys:[]}),c=e.get("slug")||"",u=(c?null==t?void 0:t.filter(e=>e.slug===c):t)||[],[d,m]=(0,r.useState)(!1),h={userKeys:i.userKeys,onUnlockPost:()=>m(!0)};return(0,a.jsxs)("main",{className:"".concat(j().athena),children:[(0,a.jsx)("title",{children:c&&1===u.length?"".concat(u[0].title," | Athena: Yonas' Blog"):"Athena: Yonas' Blog"}),(0,a.jsx)(A,{isOpen:d,onSubmit:e=>{m(!1),e&&o({...i,userKeys:[...i.userKeys||[],e].filter((e,t,s)=>s.indexOf(e)===t)})}}),(0,a.jsxs)("div",{className:"".concat(j().container," ").concat(j().head," mx-auto py-6 border-teal-800/50"),children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Athena"}),(0,a.jsx)("p",{children:"Yonas Adiel Wiguna's Blog"}),(0,a.jsx)("div",{className:"border-b-4 border-teal-800 w-32 md:w-80"})]}),(0,a.jsxs)("div",{className:"".concat(j().container," ").concat(j().navbar," mx-auto block lg:hidden flex flex-row border-teal-800/50"),children:[(0,a.jsx)("div",{className:"py-2 px-4 ".concat(s===w?"bg-teal-100 border-b-2 border-teal-800":"hover:bg-teal-50"),onClick:()=>l(w),children:"Post"}),(0,a.jsx)("div",{className:"py-2 px-4 ".concat(s===D?"bg-teal-100 border-b-2 border-teal-800":"hover:bg-teal-50 cursor-pointer"),onClick:()=>l(D),children:"Index"})]}),(0,a.jsxs)("div",{className:"".concat(j().container," ").concat(j().body," mx-auto"),children:[(0,a.jsxs)("div",{className:"".concat(j().main," block lg:hidden"),children:[s===w&&u.map(e=>(0,a.jsx)(S,{post:e,...h},e.slug)),s===D&&(0,a.jsx)(P,{allPosts:t})]}),(0,a.jsx)("div",{className:"".concat(j().main," hidden lg:block"),children:u.map(e=>(0,a.jsx)(S,{post:e,...h},e.slug))}),(0,a.jsx)("div",{className:"".concat(j().side," hidden lg:block"),children:(0,a.jsx)(P,{allPosts:t})})]})]})}},758:function(){},7562:function(e){e.exports={athena:"styles_athena__dc_2q",container:"styles_container__A_qXU",head:"styles_head__gEkWN",navbar:"styles_navbar__xkCYq",navbarItem:"styles_navbarItem__CrHUA",body:"styles_body__4Gs85",main:"styles_main__yu_CK",post:"styles_post__xLbD3",side:"styles_side__w41ml",md:"styles_md__DS1lH",locked:"styles_locked__m2XkI",lockBox:"styles_lockBox__M8fNu"}}},function(e){e.O(0,[218,885,913,995,971,938,744],function(){return e(e.s=5131)}),_N_E=e.O()}]);